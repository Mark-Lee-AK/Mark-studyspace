## 多态

### 5\.1 概念

* 多态实质一个实体同时具有多种形式
* 他是面向对象程序设计\(OOP\)的一个重要特征
* 主要是指一个对象，在不同时刻代表的对象不一样，值得是对象的多种形态
* 好处是可以把不同的子类对象当做父类来看，可以拼比不同子类对象间的差异，写出通用代码，做出通用的变成，调用标准

> 狗有两种形态：狗和动物

```java
class Animal{}
class Dog extends Animal{}
main(){
    Dog d = new Dog()//小狗是小狗
    Animal a = new Dog()//小狗是动物
}
```
### 5\.2 特点

1. 多态的前提是继承
1. 要有方法的重写
1. 父类引用指向子类对象，例如： `Animal = new Dog()`  从小到大，向上转型
1. 多态中，编译看左边（能够调用的功能是父类提供的），运行看右边（结果看子类怎么执行）

### 6 多态的好处

1. 多态可以让我不用关心某对象到底是什么具体类型，可以把子类类型当做父类来看。
1. 提高程序的扩展性和可维护性

```java
class Animal{
    //eat(Dog d){d.eat();}
    //eat(Tiger t){t.eat();}
    //eat(Haiten h){h.eat();}
    
    //多态，把子类当做父类来看，不用关心具体子类类型
    eat(Animal a){a.eat();}
    eat(Object o){o.eat();}
}
class Dog extends Animal{}
class Tiger extends Animal{}
class Haiten extends Animal{}
```

## 多态的成员使用

### 7.1特点

1. 成员变量：使用的是**父类的**
2. 成员方法：由于存在重写现象，所以使用的是**子类的**
3. 静态成员：随着对象而存在，谁调用就返回谁的

## 权限修饰符的种类

用来控制一个类，或者类中成员的访问范围

|           |  类  |  包  | 子类 | 项目中任意位置 |
| :-------: | :--: | :--: | :--: | :------------: |
|  public   |  √   |  √   |  √   |       √        |
| protected |  √   |  √   |  √   |                |
|  default  |  √   |  √   |      |                |
|  private  |  √   |      |      |                |

------

## 拓展

### 9.1向上转型和向下转型

> Java中，继承是一个重要的特征，通过extends关键字，子类可以服用父类的功能，如果父类不能满足当前子类的需求，则子类可以重写父类的方法加以扩展。应用过程中存在两种转型方式：**向上转型**和**向下转型**

#### 举例

> 父类Parent，子类Child

1. 向上转型：父类应用指向子类对象：`Parent p = new Child();`

2. 说明：向上转型时，子类对象当成父类对象，只能调用父类的功能，如果子类重写了父类的方法，就根据这个而引用指向调用子类重写的方法；

3. 向下转型（较少）：子类的引用指向子类对象，过程必须采取强制转型

   ```java
   Parent p = new Child();//向上转型，此时p是Parent类型
   Child c = (Child)p;//此时，把Parent类型的p转成小类型的Child
   // 其实,相当于创建一个子类对象一样,可以用父类的,也可以用自己的
   ```

4. 说明：向下转型时，是为了方便使用子类的特殊方法，也就是说当子类方法做了功能拓展，就可以直接使用子类功能

### 9.2 静态变量和实例变量的区别

在语法定义上的区别：静态变量前要加static关键字，而实例变量前则不加。

在程序运行时的区别：**实例变量属于某个对象的属性**，必须创建了实例对象，其中的实例变量才会被分配空间，才能使用这个实例变量。**静态变量不属于某个实例对象，而是属于类**，所以也称为类变量，只要程序加载了类的字节码，不用创建任何实例对象，静态变量就会被分配空间，静态变量就可以被使用了。总之，实例变量必须创建对象后才可以通过这个对象来使用，静态变量则可以直接使用类名来引用。

### 9.3 this和super的区别

1. this代表本类对象的引用，super代表父类对象的引用。
2. this用于区分局部变量和成员变量
3. super用于区分本类变量和父类变量
4. this.成员变量 this.成员方法() this(【参数】)代表调用本类内容
5. super.成员变量 super.成员方法() super(【参数】)，代表调用父类内容
6. **this和super不可以同时出现在同一个构造方法里，他们两个只要出现都得放在第一行，同时出现的话，到底第一行放谁呢**

### 9.4 抽血和重载的区别（Overload和Override的区别）

1. 重载：是指同一个类中的多个方法具有相同的名字,但这些方法具有不同的参数列表,即参数的数量或参数类型不能完全相同**（同名不同参）**
2. 重写：是存在子父类之间的,子类定义的方法与父类中的方法具有相同的方法名字,相同的参数表和相同的返回类型**（方法签名完全一样）**
3. 重写是父类与子类之间多态性的一种表现
4. 重载是一类中多态性的一种表现

### 9.5 创建对象的流程

```
Person p = new Person();//短短一行代码发生了很多事情
```

1. 把`Person.class`文件加载内存
2. 在栈内存中，开辟空间，存放变量p
3. 在堆内存中，开辟空间，存放Person对象
4. 对象成员变量进行默认的初始化
5. 对象成员变量进行显示初始化
6. 执行构造方法（如果有构造代码块就先执行构造代码块在执行构造方法）
7. 堆内存完成
8. 把堆内存的地址复制给变量p，p就是一个引用变量，引用了Person对象的地址值